<%= simple_form_for(@fitting_material) do |f| %>
  <%= f.error_notification %>
  
  <br>
  <div class="inputs">
  <table class="table table-bordered">
    <tr>
      <td><%= f.input :name %></td>
      <td><%= f.input :thk_dia %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_thk_dia"} %></td>
      <td><%= f.input :brand, :id=>"brand" %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_brand"} %></td>
      <td><%= f.input :modal, label: "Model" %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_model"} %></td>
    </tr> 
    <tr>
      <td><%= f.input :type_1, label: "Type" %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_type_1"} %></td>
      <td><%= f.input :pump_capacity %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_pump_capacity"} %></td>
      <td><%= f.input :head %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_head"} %></td>
      <td><%= f.input :material_type %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_material_type"} %></td>
    </tr>
    <tr>
      <td><%= f.input :pump_speed %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_pump_speed"} %></td>
      <td><%= f.input :fan_speed %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_fan_speed"} %></td>
      <td><%= f.input :motor_power %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_motor_power"} %></td>
      <td><%= f.input :motor_pole %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_motor_pole" }%></td>
    </tr>
    <tr>
      <td><%= f.input :air_flow %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_air_flow"} %></td>
      <td><%= f.input :static_pressure %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_static_pressure"} %></td>
      <td><%= f.input :other %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_other"} %></td>
      <td><%= f.input :remark %><%= check_box_tag "fitting_ids[]", '', false, { :id=>"fitting_remark"} %></td>
    </tr>
    <tr>
      <td colspan="4"><%= f.input :material_code %></td>
    </tr>
  </table>
  </div>

  <div class="actions">
    <% if roles.include?(InventoryManagementSystem::FITTING_MATERIAL_ADD) %>
      <%= f.button :submit, :class=>"btn btn-primary" %>
    <% end %>
    <%= link_to "back", fitting_materials_path, :class=>"btn" %>
  </div>
  
<% end %>

<script type="text/javascript">

$("input:checkbox").change(function(){
   
      //total allowed to be checked.
      var max_allowed = 4;
      // count how many checked.
      var xchecked = $("input:checked").size();
      // perform test.
      if ( xchecked > max_allowed ) {
          // is more than the max so uncheck.
          $(this).attr("checked", false);
      }

      // check_thk_dia = [];
      arr = [];

      var material_name = $("#fitting_material_name").val();
      var check_thk_dia = $("#fitting_material_thk_dia").val();
      var check_brand = $("#fitting_material_brand").val();
      var check_model = $("#fitting_material_modal").val();
      var check_type = $("#fitting_material_type_1").val();
      var check_pump_capacity = $("#fitting_material_pump_capacity").val();
      var check_head = $("#fitting_material_head").val();
      var check_material_type = $("#fitting_material_material_type").val();
      var check_pump_speed = $("#fitting_material_pump_speed").val();
      var check_fan_speed = $("#fitting_material_fan_speed").val();
      var check_motor_power = $("#fitting_material_motor_power").val();
      var check_motor_pole = $("#fitting_material_motor_pole").val();
      var check_air_flow = $("#fitting_material_air_flow").val();
      var check_static_pressure = $("#fitting_material_static_pressure").val();
      var check_other = $("#fitting_material_other").val();
      var check_remark = $("#fitting_material_remark").val();

      if ($("#fitting_thk_dia").is(':checked')) {
        // console.log(check_thk_dia);
          arr.push(check_thk_dia);
      } 
      if ($("#fitting_brand").is(':checked'))
      {
        arr.push(check_brand);
      }
      if ($("#fitting_model").is(':checked'))
      {
        arr.push(check_model);
      }
      if ($("#fitting_type_1").is(':checked'))
      {
        arr.push(check_type);
      }
      if ($("#fitting_pump_capacity").is(':checked'))
      {
        arr.push(check_pump_capacity);
      }
      if ($("#fitting_pump_speed").is(':checked'))
      {
        arr.push(check_pump_speed);
      }
      if ($("#fitting_head").is(':checked'))
      {
        arr.push(check_head);
      }
      if ($("#fitting_material_type").is(':checked'))
      {
        arr.push(check_material_type);
      }
      if ($("#fitting_fan_speed").is(':checked'))
      {
        arr.push(check_fan_speed);
      }
      if ($("#fitting_motor_power").is(':checked'))
      {
        arr.push(check_motor_power);
      }
      if ($("#fitting_motor_pole").is(':checked'))
      {
        arr.push(check_motor_pole);
      }
      if ($("#fitting_air_flow").is(':checked'))
      {
        arr.push(check_air_flow);
      }
      if ($("#fitting_static_pressure").is(':checked'))
      {
        arr.push(check_static_pressure);
      }
      if ($("#fitting_other").is(':checked'))
      {
        arr.push(check_other);
      }
      if ($("#fitting_remark").is(':checked'))
      {
        arr.push(check_remark);
      }

      $("#fitting_material_material_code").val(arr);

  });

</script>